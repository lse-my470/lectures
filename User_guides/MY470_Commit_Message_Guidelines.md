# Commit Message Guidelines

The text here is adpated from the a series of guidelines provided by Software Developers who use GitHub as part of their everday work flow. 

<img src="https://imgs.xkcd.com/comics/git_commit_2x.png" height="200">

The first section focuses on **Style**, the formatting of the messages themselves. The second section **Information**, focuses on the content of the message itself. 
If both of these criteria are adhered to it will be a lot easier to return to your code or share you project wth others.

## Style
### Length

In general, a commit message should be a short (72 chars or less) summary. Even detailed explanatory text should be capped at this. 
However, longer messages should have a *subject line*, followed by a blank line that seperates it from the main body - unless you omit the body entirely.

### Mood
The imperative mood is a *grammatical* mood that forms a command or request.
Write your commit message in this imperative mood in the subject line: "Fix bug" and not "Fixed bug" or "Fixes bug." 
This convention matches up with commit messages generated by commands like **git merge** and **git revert**.

#### Example
```
Add commit message guidance

Put together a document that [...]
```

### Lists
Bullet points are also okay. They too should follow a blank line after the Subject Line.
- Bullet points are okay, too.
- Typically a hyphen or asterisk is used for the bullet, followed by a
  single space. Use a hanging indent (tab).
  
### Rule of Thumb
A properly formed git commit subject line should always be able to complete the following sentence:
> *If applied, this commit will \<your subject line here\>*

### Summary: Rules for Commit Message Style
* Separate subject from body with a blank line
* Do not end the subject line with a period
* Capitalize the subject line and each paragraph
* Use the imperative mood in the subject line
* Wrap lines at 72 characters
* Use the body to explain what and why you have done something. In most cases, you can leave out details about how a change has been made.

## Information

This commit from Bitcoin Core is a great example of explaining what changed and why:
```
commit eb0b56b19017ab5c16c745e6da39c53126924ed6
Author: Pieter Wuille <pieter.wuille@gmail.com>
Date:   Fri Aug 1 22:57:55 2014 +0200

   Simplify serialize.h's exception handling

   Remove the 'state' and 'exceptmask' from serialize.h's stream
   implementations, as well as related methods.

   As exceptmask always included 'failbit', and setstate was always
   called with bits = failbit, all it did was immediately raise an
   exception. Get rid of those variables, and replace the setstate
   with direct exception throwing (which also removes some dead
   code).

   As a result, good() is never reached after a failure (there are
   only 2 calls, one of which is in tests), and can just be replaced
   by !eof().

   fail(), clear(n) and exceptions() are just never called. Delete
   them.
  ```
Take a look at the [full difference](https://github.com/bitcoin/bitcoin/commit/eb0b56b19017ab5c16c745e6da39c53126924ed6) and just think how much time the author is saving fellow and future committers by taking the time to provide this context here and now. If he didn’t, it would probably be lost forever.

In most cases, you can leave out details about how a change has been made. Code is generally self-explanatory in this regard (and if the code is so complex that it needs to be explained in prose, that’s what source comments are for). Just focus on making clear the reasons why you made the change in the first place—the way things worked before the change (and what was wrong with that), the way they work now, and why you decided to solve it the way you did.

The future maintainer that thanks you may be yourself!

### References in commit messages
If the commit refers to an issue, add this information to the commit message header or body. e.g. the GitHub web platform automatically converts issue ids (e.g. #123) to links referring to the related issue. For issues tracker like Jira there are plugins which also converts Jira tickets, e.g. [Jirafy](https://chrome.google.com/webstore/detail/jirafy/npldkpkhkmpnfhpmeoahhakbgcldplbj).

In header:
```
[#123] Refer to GitHub issue…
```
```
CAT-123 Refer to Jira ticket with project identifier CAT…
```
In body:
```
…

### Summary: Information in commit messages
* Describe why a change is being made.
* How does it address the issue?
* What effects does the patch have?
* Do not assume the reviewer understands what the original problem was.
* Do not assume the code is self-evident/self-documenting.
* Read the commit message to see if it hints at improved code structure.
* The first commit line is the most important.
* Describe any limitations of the current code.
* Do not include patch set-specific comments.

Details for each point and good commit message examples can be found on https://wiki.openstack.org/wiki/GitCommitMessages#Information_in_commit_messages


Fixes #123, #124
```

### Sources
* https://gist.github.com/robertpainsi/b632364184e70900af4ab688decf6f53
* http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html
* https://wiki.openstack.org/wiki/GitCommitMessages
* https://chris.beams.io/posts/git-commit/#why-not-how

